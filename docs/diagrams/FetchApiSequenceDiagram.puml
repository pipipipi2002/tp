@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR
show field
show methods

title Fetch Data from LTA (update command)

box Api LOGIC_COLOR_T1
participant ":Api" as Api LOGIC_COLOR
end box

box Storage LOGIC_COLOR_T1
participant ":FileReader" as FileReader LOGIC_COLOR
end box

box System Files LOGIC_COLOR_T2
end box

[-> Api : syncFetchData()
activate Api

Api -> Api : asyncExecuteRequest(0,0)
activate Api
Api -> Api : generateHttpRequestCarpark(0)
activate Api
Api --> Api
deactivate Api
Api --> Api
deactivate Api

Api -> Api : asyncExecuteRequest(500,1)
activate Api
Api -> Api : generateHttpRequestCarpark(1)
activate Api
Api --> Api
deactivate Api
Api --> Api
deactivate Api

Api -> Api : asyncExecuteRequest(1000,2)
activate Api
Api -> Api : generateHttpRequestCarpark(2)
activate Api
Api --> Api
deactivate Api
Api --> Api
deactivate Api

Api -> Api : asyncExecuteRequest(1500,3)
activate Api
Api -> Api : generateHttpRequestCarpark(3)
activate Api
Api --> Api
deactivate Api
Api --> Api
deactivate Api

Api -> Api : asyncExecuteRequest(2000,4)
activate Api
Api -> Api : generateHttpRequestCarpark(4)
activate Api
Api --> Api
deactivate Api
Api --> Api
deactivate Api
@enduml